!function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),View=function(){function View(el){_classCallCheck(this,View),this.el=el}return _createClass(View,[{key:"listenTo",value:function(eventType,selector,listener){var _this=this,elements=this.el.querySelectorAll(selector);Array.prototype.forEach.call(elements,function(elem){elem.addEventListener(eventType,listener.bind(_this))})}},{key:"debounce",value:function(func,wait,immediate){var timeout=void 0;return function(){var context=this,args=arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}}}]),View}();exports.default=View},{}],2:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Base=require("./Base.js"),_Base2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Base),Gallery=function(_AppBase){function Gallery(el){_classCallCheck(this,Gallery);var _this=_possibleConstructorReturn(this,(Gallery.__proto__||Object.getPrototypeOf(Gallery)).call(this,el));return _this.imageSelector=".gallery-open",_this.gallerySelector=".gallery-container",_this.contentSelector="main",_this.displaySelector=".modal-image",_this.imageCollection=_this.el.querySelectorAll(".image-div"),_this.currentIndex=0,_this.galleryImageSize=window.innerWidth>640?"large":"med",_this.listenTo("click",_this.imageSelector,_this.openGallery),_this.listenTo("click",".close",_this.closeGallery),_this.listenTo("click",".next",_this.nextImage),_this.listenTo("click",".prev",_this.prevImage),_this.listenTo("click",_this.gallerySelector,_this.handleGalleryClick),window.addEventListener("keyup",_this.handleKeyUp.bind(_this)),_this}return _inherits(Gallery,_AppBase),_createClass(Gallery,[{key:"openGallery",value:function(e){e.preventDefault();var container=this.el.querySelector(this.gallerySelector),body=document.body;this.currentIndex=e.target.parentElement.getAttribute("data-order"),this.displayImageInGallery(this.currentIndex),body.classList.add("no-scroll"),container.classList.add("open")}},{key:"closeGallery",value:function(e){e&&e.preventDefault();var body=document.body,container=this.el.querySelector(this.gallerySelector);this.el.querySelector(".gallery-img");container.querySelector(this.displaySelector).src="",container.querySelector(".caption").innerHTML="",container.classList.remove("open"),body.classList.remove("no-scroll"),this.resetControlVisibility()}},{key:"nextImage",value:function(e){e&&e.preventDefault(),this.currentIndex<this.imageCollection.length-1&&(this.currentIndex++,this.displayImageInGallery(this.currentIndex))}},{key:"prevImage",value:function(e){e&&e.preventDefault(),this.currentIndex>0&&(this.currentIndex--,this.displayImageInGallery(this.currentIndex))}},{key:"handleKeyUp",value:function(e){if(this.el.querySelector(".gallery-container").classList.contains("open"))switch(e.keyCode){case 27:this.closeGallery();break;case 37:this.prevImage();break;case 39:this.nextImage()}}},{key:"handleGalleryClick",value:function(e){e.target.classList.contains("gallery-container")&&e.target.classList.contains("open")?this.closeGallery(e):(e.target.classList.contains("image-container")||e.target.classList.contains("modal-image"))&&this.toggleControlVisibility()}},{key:"toggleControlVisibility",value:function(){Array.prototype.slice.call(document.querySelectorAll(".nav")).forEach(function(control){return control.classList.toggle("opacity-0")})}},{key:"resetControlVisibility",value:function(){Array.prototype.slice.call(document.querySelectorAll(".nav")).forEach(function(control){return control.classList.remove("opacity-0")})}},{key:"displayImageInGallery",value:function(index){var images=this.imageCollection,gallery=this.el.querySelector(this.gallerySelector),currentImage=images[index].querySelector("img"),galleryImage=gallery.querySelector(this.displaySelector);galleryImage.classList.add("loading"),galleryImage.addEventListener("load",function(){galleryImage.classList.remove("loading")}),galleryImage.src=currentImage.getAttribute("data-src-"+this.galleryImageSize),galleryImage.alt=currentImage.alt,gallery.querySelector(".caption").innerHTML=currentImage.alt}}]),Gallery}(_Base2.default);exports.default=Gallery},{"./Base.js":1}],3:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Base=require("./Base.js"),_Base2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_Base),LazyLoad=function(_AppBase){function LazyLoad(el){_classCallCheck(this,LazyLoad);var _this=_possibleConstructorReturn(this,(LazyLoad.__proto__||Object.getPrototypeOf(LazyLoad)).call(this,el));return _this.images=Array.prototype.slice.call(_this.el.querySelectorAll(".lazy-load")),_this.scrollListener=_this.debounce(_this.loadImages,50).bind(_this),_this.imageSize=_this.getImageSize(),window.addEventListener("DOMContentLoaded",_this.loadImages.bind(_this)),window.addEventListener("scroll",_this.scrollListener),_this}return _inherits(LazyLoad,_AppBase),_createClass(LazyLoad,[{key:"getImageSize",value:function(){window.innerWidth;return window.innerWidth>600?"med":"small"}},{key:"isVisible",value:function(element){var bounds=element.getBoundingClientRect();return bounds.top>0&&bounds.top<window.innerHeight||bounds.bottom>0&&bounds.bottom<window.innerHeight}},{key:"loadImage",value:function(imageEl){imageEl.src=imageEl.getAttribute("data-src-"+this.imageSize),imageEl.classList.remove("lazy-load")}},{key:"loadImages",value:function(){var _this2=this;if(0===this.images.length)return void window.removeEventListener("scroll",this.scrollListener);this.images=this.images.filter(function(img){return!_this2.isVisible(img)||(_this2.loadImage(img),!1)})}}]),LazyLoad}(_Base2.default);exports.default=LazyLoad},{"./Base.js":1}],4:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _LazyLoad=require("./LazyLoad.js"),_LazyLoad2=_interopRequireDefault(_LazyLoad),_Gallery=require("./Gallery.js"),_Gallery2=_interopRequireDefault(_Gallery);!function(){new _LazyLoad2.default(document.querySelector(".container")),new _Gallery2.default(document.querySelector(".container"))}()},{"./Gallery.js":2,"./LazyLoad.js":3}]},{},[4]);